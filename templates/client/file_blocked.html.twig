{% extends 'base.html.twig' %}

{% block title %}Descargar archivo{% endblock %}

{% block stylesheets %}
    {{ parent() }}

    <link rel="stylesheet" href="{{ asset('assets/css/download-file.css') }}">
    <link rel="stylesheet" href="{{ asset('libraries/GDPR/dist/style.css') }}"/>
{% endblock %}

{% block javascripts %}
    {{ parent() }}

    <script src="{{ asset('libraries/GDPR/dist/script.js') }}"></script>
    <script src="{{ asset('libraries/GDPR/src/langs/es.js') }}"></script>
{% endblock %}

{% block body %}
<div class="blocked-modal">
    <div class="container">
        <div class="blocked-modal__alert mx-auto">
            <div class="blocked-modal__alert-title d-flex align-items-center bg-warning">
                <p class="m-0">Información</p>
            </div>
            <div class="blocked-modal__alert-body d-flex justify-content-between">
                <i class="fas fa-times-circle fa-3x text-danger"></i>
                <div class="mx-3">
                    <p class="mb-2">Lo sentimos, el archivo solicitado se encuentra temporalmente no disponible.</p>
                    <p style="font-size: 0.9em; color: rgb(52, 52, 52);">Si necesita ayuda contacte con la persona que le suministró el enlace.</p>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="blocked-container">
    <!-- Carousel wrapper -->
    <div id="carouselMaterialStyle" class="carousel slide carousel-fade" data-mdb-ride="carousel" data-interval="500">
    <!-- Inner -->
    <div class="carousel-inner rounded-5 shadow-4-strong">
        <!-- Single item -->
        <div class="carousel-item active">
            <div style="position: fixed; width: 100vw; height: 100vh; background-image: url({{ asset('media/website/client/docta_transfer_img_001.png') }}); background-position: center center; background-size: cover;"></div>
        </div>

        <!-- Single item -->
        <div class="carousel-item">
            <div style="position: fixed; width: 100vw; height: 100vh; background-image: url({{ asset('media/website/client/docta_transfer_img_002.png') }}); background-position: center center; background-size: cover;"></div>
        </div>

        <!-- Single item -->
        <div class="carousel-item">
            <div style="position: fixed; width: 100vw; height: 100vh; background-image: url({{ asset('media/website/client/docta_transfer_img_003.png') }}); background-position: center center; background-size: cover;"></div>
        </div>

        <!-- Single item -->
        <div class="carousel-item">
            <div style="position: fixed; width: 100vw; height: 100vh; background-image: url({{ asset('media/website/client/docta_transfer_img_004.png') }}); background-position: center center; background-size: cover;"></div>
        </div>
    </div>

    <div style="position: absolute; top: 0; left: 0; z-index: 1; width: 100%; height: 100%">
        <header class="header mx-2 mx-sm-5 my-3">
            <img src="{{ asset('media/website/client/docta_transfer_logo.png') }}" class="mb-1">
        </header>

        <section class="section mx-2 mx-sm-5">
            <div class="download-file">
                <div class="d-flex flex-column align-items-center">
                    <p class="m-0" style="font-weight: bold; font-family: Avenir;">Powered by:</p>
                    <img src="{{ asset('media/website/doctaforum-logo.png') }}" alt="Doctaforum" class="w-75">
                </div>

                <hr>

                <div class="py-2">
                    <div  class="d-flex justify-content-baseline align-items-start">
                        <img src="{{ asset('media/website/rar_image.png') }}" alt="rar" style="width: 30px;">
                        <div class="d-flex flex-column justify-content-center align-items-start mx-3">
                            <p class="m-0" style="font-family: AvenirBlack; font-size: 0.9em;">{{ file.path | split('/')[1] }}</p>
                            <p style="font-size: 0.7em; color: rgb(140, 140, 140);">Creado por <u>Doctaforum</u> - {{ file.createDate | date('d/m/Y') }}</p>
                        </div>
                    </div>

                    <div class="download-file__complete-description">{{ file.description | raw }}</div>

                    <div class="download-file__description">
                        {{ (file.description) | raw }}
                    </div>
                </div>

                <div class="d-flex align-items-center py-3">
                    <div id="download-button" class="btn btn-success" data-mdb-toggle="modal" data-mdb-target="#staticBackdrop"><i class="fas fa-download"></i>&nbsp&nbsp Descargar</div>
                </div>

                <hr>

                <div class="file-info">
                    <div class="info-line">
                        <p style="font-family: AvenirBlack;">Número de archivos: </p>
                        <p class="file-info__info">{{ numberOfFiles }}</p>
                    </div>
                    <div class="info-line">
                        <p style="font-family: AvenirBlack;">Extensión: </p>
                        <p class="file-info__info">.{{ fileExtension }}</p>
                    </div>
                    <div class="info-line">
                        <p style="font-family: AvenirBlack;">Tamaño: </p>
                        <p class="file-info__info">{{ fileSize }} MB</p>
                    </div>
                </div>
            </div>
        </section>
    </div>
</div>

<script>
    window.onload = () => {
        document.getElementById("accept-button").addEventListener("click", () => {
            window.close();
        })
    }
</script>

{% include "components/cookies_consent.html" %}
{% endblock %}